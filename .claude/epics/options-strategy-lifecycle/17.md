---
name: Implement Finvasia broker integration
status: open
created: 2025-08-26T11:49:39Z
updated: 2025-08-26T12:23:22Z
github: https://github.com/ravitandur/ql-algo-trading-platform/issues/17
depends_on: [17]
parallel: false
conflicts_with: []
---

# Task 026: Implement Finvasia broker integration

**Story Points:** 8
**Task Type:** Integration
**Priority:** Medium

## Description
Implement comprehensive Finvasia (Shoonya) broker integration using the broker abstraction layer. This includes connecting to Finvasia's API, implementing all standard broker operations, and handling Finvasia-specific features and limitations.

## Acceptance Criteria
- [ ] Implement Finvasia broker adapter class extending base broker interface
- [ ] Integrate Finvasia Shoonya API for authentication and session management
- [ ] Implement order placement (market, limit, SL, SL-M orders)
- [ ] Implement position and holding retrieval
- [ ] Implement portfolio and margin information access
- [ ] Handle Finvasia-specific order types and parameters
- [ ] Implement real-time market data subscription
- [ ] Add Finvasia-specific error handling and status codes
- [ ] Implement rate limiting according to Finvasia API limits
- [ ] Create Finvasia-specific configuration management

## Dependencies
- **Task 024:** Design broker abstraction layer (provides base interfaces)

## Technical Notes
- Use Finvasia Shoonya API
- Handle session token management and renewal
- Implement proper WebSocket connections for real-time data
- Consider Finvasia's specific symbol formats and contract specifications
- Handle Finvasia's unique order statuses and execution reports
- Account for Finvasia's low-cost brokerage model features

## API Integration Details
- Authentication via Shoonya API
- Order management endpoints
- Portfolio and position endpoints
- Market data WebSocket streams
- Historical data access
- Options chain data retrieval

## Definition of Done
- Finvasia broker adapter fully implemented and tested
- All standard broker operations working
- Real-time data streaming functional
- Error handling covers all Finvasia-specific scenarios
- Integration tests passing with Finvasia sandbox/demo
- Configuration documented
- Code review completed and approved
